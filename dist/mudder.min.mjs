var m={},u={get exports(){return m},set exports(t){m=t}};function y(t){for(let e of t)for(let n of t)if(n!==e&&e.startsWith(n))return!1;return!0}function A(t){t=Array.from(t).sort();for(let[e,n]of t.entries()){let r=t[e-1];if(r!==n&&n.startsWith(r))return!1}return!0}y=A;function f(t,e){"use strict";if(typeof this=="undefined")throw new TypeError("constructor called as a function");if(typeof t=="string")t=t.split("");else if(!Array.isArray(t))throw new TypeError("symbolsArr must be string or array");if(typeof e=="undefined")e=new Map(t.map((r,o)=>[r,o]));else if(e instanceof Object&&!(e instanceof Map))e=new Map(Object.entries(e));else if(!(e instanceof Map))throw new TypeError("symbolsMap can be omitted, a Map, or an Object");let n=new Set(e.values());for(let r=0;r<t.length;r++)if(!n.has(r))throw new RangeError(t.length+" symbols given but "+r+" not found in symbol table");this.num2sym=t,this.sym2num=e,this.maxBase=this.num2sym.length,this.isPrefixCode=y(t)}f.prototype.numberToDigits=function(t,e){e=e||this.maxBase;let n=[];for(;t>=1;)n.push(t%e),t=Math.floor(t/e);return n.length?n.reverse():[0]};f.prototype.digitsToString=function(t){return t.map(e=>this.num2sym[e]).join("")};f.prototype.stringToDigits=function(t){if(!this.isPrefixCode&&typeof t=="string")throw new TypeError("parsing string without prefix code is unsupported. Pass in array of stringy symbols?");if(typeof t=="string"){let e=new RegExp("("+Array.from(this.sym2num.keys()).join("|")+")","g");t=t.match(e)}return t.map(e=>this.sym2num.get(e))};f.prototype.digitsToNumber=function(t,e){e=e||this.maxBase;let n=1;return t.reduceRight((r,o)=>{let i=r+o*n;return n*=e,i},0)};f.prototype.numberToString=function(t,e){return this.digitsToString(this.numberToDigits(t,e))};f.prototype.stringToNumber=function(t,e){return this.digitsToNumber(this.stringToDigits(t),e)};function x(t,e,n){return t.reduce((r,o)=>{let i=o+r.rem*n;return{res:r.res.concat(Math.floor(i/e)),rem:i%e,den:e}},{res:[],rem:0,den:e})}function w(t,e,n,r=[],o=0){if(t.length!==e.length)throw new Error("same length arrays needed");if(r.length!==0&&r.length!==2)throw new Error("zero or two remainders expected");t=t.slice(),r.length&&(t=t.concat(r[0]),e=e.slice().concat(r[1]));let i=Array(t.length).fill(0);t:for(let s=t.length-1;s>=0;--s){if(t[s]>=e[s]){i[s]=t[s]-e[s];continue}if(s===0)throw new Error("cannot go negative");for(let c=s-1;c>=0;--c)if(t[c]>0){t[c]--;for(let l=c+1;l<s;++l)t[l]+=n-1;i[s]=t[s]+(r.length>0&&s===t.length-1?o:n)-e[s];continue t}throw new Error("failed to find digit to borrow from")}return r.length?{res:i.slice(0,-1),rem:i[i.length-1],den:o}:{res:i,rem:0,den:o}}function v(t,e,n,r,o){if(t.length!==e.length)throw new Error("same length arrays needed");let i=r>=o,s=e.slice();return i&&(r-=o),t.reduceRight((c,l,h)=>{let a=l+e[h]+i;i=a>=n,s[h]=i?a-n:a},null),{res:s,carry:i,rem:r,den:o}}function T(t,e,n){let r=Math.max(0,e-t.length);return t.concat(Array(r).fill(n||0))}function _(t,e,n,r,o){if(t.length<e.length?t=T(t,e.length):e.length<t.length&&(e=T(e,t.length)),t.length===e.length&&t.every((a,d)=>a===e[d]))throw new Error("Start and end strings lexicographically inseparable");let i=x(t,o,n),s=x(e,o,n),c=w(t,i.res,n,[0,i.rem],o),l=s,h=[];for(let a=1;a<=r;++a){let d=v(c.res,l.res,n,c.rem+l.rem,o);h.push(d),c=w(c.res,i.res,n,[c.rem,i.rem],o),l=v(l.res,s.res,n,l.rem+s.rem,o)}return h}function S(t,e,n){let r=Math.max(0,e-t.length);return Array(r).fill(n||0).concat(t)}f.prototype.roundFraction=function(t,e,n){n=n||this.maxBase;var r=Math.ceil(Math.log(e)/Math.log(n)),o=Math.pow(n,r),i=Math.round(t/e*o),s=this.numberToDigits(i,n);return S(s,r,0)};function j(t,e,n=0){for(let r=n;r<e.length;r++)if(e[r]&&t[r]!==e[r])return e.slice(0,r+1);return e}function L(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!==e[r])return t[r]<e[r];return t.length<e.length}function C(t,e=0){let n=!L(t[0],t[1]);n&&t.reverse();let r=t.slice(1).reduce((o,i)=>o.concat([j(o[o.length-1],i,e)]),[t[0]]);return n&&r.reverse(),r}function P(t,e){let n=t>e;return n&&([t,e]=[e,t]),n?[e,t]:[t,e]}f.prototype.mudder=function(t,e,n,r,o,i=0){typeof t=="number"&&(n=t,t="",e=""),t=t||this.num2sym[0],e=e||this.num2sym[this.num2sym.length-1].repeat(t.length+6),n=typeof n=="number"?n:1,r=r||this.maxBase,o=o||n+1,[t,e]=P(t,e);let s=this.stringToDigits(t,r),c=this.stringToDigits(e,r),h=_(s,c,r,n,o).map(a=>a.res.concat(this.roundFraction(a.rem,a.den,r)));return h.unshift(s),h.push(c),C(h,i).slice(1,h.length-1).map(a=>this.digitsToString(a))};var g=(t,e)=>Array.from(Array(e),(n,r)=>String.fromCharCode(t.charCodeAt(0)+r)),B=new f(g("0",10).concat(g("A",26)).concat(g("a",26))),D=g("0",10).concat(g("a",26)),M=D.concat(g("A",26));function p(t){return Array.from(Array(t),(e,n)=>n)}var O=p(10).concat(p(26).map(t=>t+10)).concat(p(26).map(t=>t+10));function E(t,e){return Array.from(Array(t.length),(n,r)=>[t[r],e[r]])}var k=new f(D,new Map(E(M,O))),N=new f(g("a",26),new Map(E(g("a",26).concat(g("A",26)),p(26).concat(p(26)))));u.exports={SymbolTable:f,base62:B,base36:k,alphabet:N,longLinspace:_};var R,z,F,W,H;Object.isExtensible(u.exports)&&Object.keys(u.exports).length===5&&(R=u.exports.SymbolTable,z=u.exports.base62,F=u.exports.base36,W=u.exports.alphabet,H=u.exports.longLinspace);var V=u.exports;export{R as SymbolTable,W as alphabet,F as base36,z as base62,V as default,H as longLinspace};
//# sourceMappingURL=mudder.min.mjs.map
