var m={},h={get exports(){return m},set exports(t){m=t}};function y(t){for(let e of t)for(let r of t)if(r!==e&&e.startsWith(r))return!1;return!0}function A(t){t=Array.from(t).sort();for(let[e,r]of t.entries()){let n=t[e-1];if(n!==r&&r.startsWith(n))return!1}return!0}y=A;function l(t,e){"use strict";if(typeof this=="undefined")throw new TypeError("constructor called as a function");if(typeof t=="string")t=t.split("");else if(!Array.isArray(t))throw new TypeError("symbolsArr must be string or array");if(typeof e=="undefined")e=new Map(t.map((n,o)=>[n,o]));else if(e instanceof Object&&!(e instanceof Map))e=new Map(Object.entries(e));else if(!(e instanceof Map))throw new TypeError("symbolsMap can be omitted, a Map, or an Object");let r=new Set(e.values());for(let n=0;n<t.length;n++)if(!r.has(n))throw new RangeError(t.length+" symbols given but "+n+" not found in symbol table");this.num2sym=t,this.sym2num=e,this.maxBase=this.num2sym.length,this.isPrefixCode=y(t)}l.prototype.numberToDigits=function(t,e){e=e||this.maxBase;let r=[];for(;t>=1;)r.push(t%e),t=Math.floor(t/e);return r.length?r.reverse():[0]};l.prototype.digitsToString=function(t){return t.map(e=>this.num2sym[e]).join("")};l.prototype.stringToDigits=function(t){if(!this.isPrefixCode&&typeof t=="string")throw new TypeError("parsing string without prefix code is unsupported. Pass in array of stringy symbols?");if(typeof t=="string"){let e=new RegExp("("+Array.from(this.sym2num.keys()).join("|")+")","g");t=t.match(e)}return t.map(e=>this.sym2num.get(e))};l.prototype.digitsToNumber=function(t,e){e=e||this.maxBase;let r=1;return t.reduceRight((n,o)=>{let i=n+o*r;return r*=e,i},0)};l.prototype.numberToString=function(t,e){return this.digitsToString(this.numberToDigits(t,e))};l.prototype.stringToNumber=function(t,e){return this.digitsToNumber(this.stringToDigits(t),e)};function x(t,e,r){return t.reduce((n,o)=>{let i=o+n.rem*r;return{res:n.res.concat(Math.floor(i/e)),rem:i%e,den:e}},{res:[],rem:0,den:e})}function w(t,e,r,n=[],o=0){if(t.length!==e.length)throw new Error("same length arrays needed");if(n.length!==0&&n.length!==2)throw new Error("zero or two remainders expected");t=t.slice(),n.length&&(t=t.concat(n[0]),e=e.slice().concat(n[1]));let i=Array(t.length).fill(0);t:for(let s=t.length-1;s>=0;--s){if(t[s]>=e[s]){i[s]=t[s]-e[s];continue}if(s===0)throw new Error("cannot go negative");for(let a=s-1;a>=0;--a)if(t[a]>0){t[a]--;for(let c=a+1;c<s;++c)t[c]+=r-1;i[s]=t[s]+(n.length>0&&s===t.length-1?o:r)-e[s];continue t}throw new Error("failed to find digit to borrow from")}return n.length?{res:i.slice(0,-1),rem:i[i.length-1],den:o}:{res:i,rem:0,den:o}}function v(t,e,r,n,o){if(t.length!==e.length)throw new Error("same length arrays needed");let i=n>=o,s=e.slice();return i&&(n-=o),t.reduceRight((a,c,f)=>{let g=c+e[f]+i;i=g>=r,s[f]=i?g-r:g},null),{res:s,carry:i,rem:n,den:o}}function T(t,e,r){let n=Math.max(0,e-t.length);return t.concat(Array(n).fill(r||0))}function _(t,e,r,n,o){if(t.length<e.length?t=T(t,e.length):e.length<t.length&&(e=T(e,t.length)),t.length===e.length&&t.every((g,d)=>g===e[d]))throw new Error("Start and end strings lexicographically inseparable");let i=x(t,o,r),s=x(e,o,r),a=w(t,i.res,r,[0,i.rem],o),c=s,f=[];for(let g=1;g<=n;++g){let d=v(a.res,c.res,r,a.rem+c.rem,o);f.push(d),a=w(a.res,i.res,r,[a.rem,i.rem],o),c=v(c.res,s.res,r,c.rem+s.rem,o)}return f}function S(t,e,r){let n=Math.max(0,e-t.length);return Array(n).fill(r||0).concat(t)}l.prototype.roundFraction=function(t,e,r){r=r||this.maxBase;var n=Math.ceil(Math.log(e)/Math.log(r)),o=Math.pow(r,n),i=Math.round(t/e*o),s=this.numberToDigits(i,r);return S(s,n,0)};function j(t,e){for(let r=0;r<e.length;r++)if(e[r]&&t[r]!==e[r])return e.slice(0,r+1);return e}function L(t,e){let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!==e[n])return t[n]<e[n];return t.length<e.length}function C(t){let e=!L(t[0],t[1]);e&&t.reverse();let r=t.slice(1).reduce((n,o)=>n.concat([j(n[n.length-1],o)]),[t[0]]);return e&&r.reverse(),r}function P(t,e){let r=t>e;return r&&([t,e]=[e,t]),r?[e,t]:[t,e]}l.prototype.mudder=function(t,e,r,n,o){typeof t=="number"&&(r=t,t="",e=""),t=t||this.num2sym[0],e=e||this.num2sym[this.num2sym.length-1].repeat(t.length+6),r=typeof r=="number"?r:1,n=n||this.maxBase,o=o||r+1,[t,e]=P(t,e);let i=this.stringToDigits(t,n),s=this.stringToDigits(e,n),c=_(i,s,n,r,o).map(f=>f.res.concat(this.roundFraction(f.rem,f.den,n)));return c.unshift(i),c.push(s),C(c).slice(1,c.length-1).map(f=>this.digitsToString(f))};var u=(t,e)=>Array.from(Array(e),(r,n)=>String.fromCharCode(t.charCodeAt(0)+n)),B=new l(u("0",10).concat(u("A",26)).concat(u("a",26))),D=u("0",10).concat(u("a",26)),M=D.concat(u("A",26));function p(t){return Array.from(Array(t),(e,r)=>r)}var O=p(10).concat(p(26).map(t=>t+10)).concat(p(26).map(t=>t+10));function E(t,e){return Array.from(Array(t.length),(r,n)=>[t[n],e[n]])}var k=new l(D,new Map(E(M,O))),N=new l(u("a",26),new Map(E(u("a",26).concat(u("A",26)),p(26).concat(p(26)))));h.exports={SymbolTable:l,base62:B,base36:k,alphabet:N,longLinspace:_};var R,z,F,W,H;Object.isExtensible(h.exports)&&Object.keys(h.exports).length===5&&(R=h.exports.SymbolTable,z=h.exports.base62,F=h.exports.base36,W=h.exports.alphabet,H=h.exports.longLinspace);var V=h.exports;export{R as SymbolTable,W as alphabet,F as base36,z as base62,V as default,H as longLinspace};
//# sourceMappingURL=mudder.min.mjs.map
